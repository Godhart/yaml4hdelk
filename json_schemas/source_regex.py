import re

rex = r"""
^
(
    (
        /
        |
        \\$
        |
        (
            (\\.\\.?/)(\\.\\./)*
        )
        |
        (
            https?://\\w([.-]?\\w)*
            (
                (/
                    (\\w(-?\\w)*/)*
                    (\\w(-?\\w)*)
                )?
                @/
            )?
        )
        |
        (
            git://\\w([.-]?\\w)*/
            (\\w(-?\\w)*/)*
            (\\w(-?\\w)*@/)
            (\\w(-?\\w)*/)*
            (\\w(-?\\w)*\\^)
            (\\$|/)
        )
    )?
    ([\\w.-]*[\\w-]/)*
    ([\\w.-]*[\\w-])
    (#
        (/\\w([\\w.-]*\\w)*)+
    )?
)
|
(#
    (/\\w([\\w.-]*\\w)*)+
)
$
"""

rex = rex.replace(" ","").replace("\n","")
rexpy = rex.replace("\\\\", "\\")

re.match(rexpy, "")
print(rex)
